id: ci-pipeline
category: automation
summary: Detect and configure workspace-level CI/CD with separate build and test pipelines for all projects
level: workspace-only

ecosystems:
  - id: javascript
    default_variant: github-actions
    variants:
      - id: github-actions
        fix_prompt: variants/javascript_github-actions.md
      - id: gitlab-ci
        fix_prompt: variants/javascript_gitlab-ci.md
      - id: circleci
        fix_prompt: variants/javascript_circleci.md
  - id: python
    default_variant: github-actions
    variants:
      - id: github-actions
        fix_prompt: variants/python_github-actions.md
      - id: gitlab-ci
        fix_prompt: variants/python_gitlab-ci.md
      - id: circleci
        fix_prompt: variants/python_circleci.md

provides:
  - id: ci-pipeline.platform
    description: The CI/CD platform being configured (github-actions, gitlab-ci, circleci)
  - id: ci-pipeline.has_build_pipeline
    description: Whether separate build pipeline was configured
  - id: ci-pipeline.has_test_pipeline
    description: Whether separate test pipeline was configured

requires: []